---
import Project from "./Project.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
---

<main class="w-full max-w-4xl mx-auto py-8">
    <h2 class="text-4xl font-bold pb-12 text-center fade-in text-zinc-100">Projects</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {
            projects.map(async (project, index) => {                    
                const { Content } = await project.render();
                return (
                    <div class="opacity-0 fade-in h-full" style={`animation-delay: ${index * 0.1}s`}>
                        <Project
                            projectTitle={project.data.title}
                            projectDescription={project.data.description}
                            link={project.data.link}
                        />
                    </div>
                );
            })
        }
    </div>
</main>
